From e95ede781a5f5100dd804419213032de46b01dc8 Mon Sep 17 00:00:00 2001
From: Anna Sorokina <hanna.sarokina@itechart-group.com>
Date: Thu, 9 Dec 2021 19:13:04 +0300
Subject: [PATCH] [REP-506] Update express track color for successful track

---
 src/components/DashboardPromotionContent.tsx |  1 -
 src/components/ExpressTooltip.tsx            | 11 ++---------
 src/components/ExpressTrack.tsx              | 18 +++++++++---------
 3 files changed, 11 insertions(+), 19 deletions(-)

diff --git a/src/components/DashboardPromotionContent.tsx b/src/components/DashboardPromotionContent.tsx
index 5098b0a..a5c3b2c 100644
--- a/src/components/DashboardPromotionContent.tsx
+++ b/src/components/DashboardPromotionContent.tsx
@@ -205,7 +205,6 @@ export function DashboardPromotionContent({
                 expressRewards={expressTrack.rewards}
                 promotionRewards={track.rewards}
                 reached={isEligibleForPromotion(expressTrack)}
-                submitted={submitted}
                 timeframe={expressTimeframe}
               />
             )}
diff --git a/src/components/ExpressTooltip.tsx b/src/components/ExpressTooltip.tsx
index e9be825..c8a3e59 100644
--- a/src/components/ExpressTooltip.tsx
+++ b/src/components/ExpressTooltip.tsx
@@ -1,23 +1,16 @@
-import classNames from 'classnames'
 import type {ReactNode} from 'react'
 
 import {QuestionMarkTooltip} from './ui/icons'
 
 type Props = {
   message: ReactNode
-  daysLeft: number
 }
 
-export function ExpressTooltip({message, daysLeft}: Props) {
+export function ExpressTooltip({message}: Props) {
   return (
     <div>
       <div className="relative group">
-        <QuestionMarkTooltip
-          className={classNames(
-            'group-hover:text-orange-hover group-hover:cursor-pointer text-24',
-            daysLeft > 0 ? 'bg-plum-light text-beet' : 'bg-grey-6 text-grey-3'
-          )}
-        />
+        <QuestionMarkTooltip className="group-hover:text-orange-hover group-hover:cursor-pointer text-24" />
         <div className="group-hover:block absolute -top-5 bg-white min-w-[295px] -translate-y-full -translate-x-64 border border-grey-6 rounded-[10px] z-auto shadow-tooltip hidden">
           <div className="text-13 leading-5 text-emerald text-center px-4 py-5">
             {message}
diff --git a/src/components/ExpressTrack.tsx b/src/components/ExpressTrack.tsx
index 52f2786..612572a 100644
--- a/src/components/ExpressTrack.tsx
+++ b/src/components/ExpressTrack.tsx
@@ -11,18 +11,18 @@ type ExpressTooltipMessageProps = {
     duration: number
     temporalUnit: TrackTimeUnit
   }
-  daysLeft: number
+  isExpired: boolean
   expressRewards: Rewards
   promotionRewards: Rewards
 }
 
 function ExpressTooltipMessage({
-  daysLeft,
+  isExpired,
   expressRewards,
   promotionRewards,
   timeframe,
 }: ExpressTooltipMessageProps) {
-  if (daysLeft < 0) {
+  if (isExpired) {
     return (
       <FormattedMessage
         id="152ea022d847"
@@ -74,7 +74,6 @@ type Props = {
   daysLeft: number
   expressRewards: Rewards
   promotionRewards: Rewards
-  submitted: boolean
   reached: boolean
   timeframe: {
     duration: number
@@ -86,22 +85,24 @@ export function ExpressTrack({
   daysLeft,
   expressRewards,
   promotionRewards,
-  submitted,
   reached,
   timeframe,
 }: Props) {
+  const isInProgress = !reached && daysLeft > 0
+  const isExpired = !reached && daysLeft <= 0
+
   return (
     <div className="mb-9 max-w-64 h-8 float-right">
       <div
         className={classNames(
           'text-13 flex flex-row rounded-l-full items-center h-8',
-          daysLeft > 0 ? 'bg-plum-light text-beet' : 'bg-grey-6 text-grey-3'
+          isExpired ? 'bg-grey-6 text-grey-3' : 'bg-plum-light text-beet'
         )}
       >
         <div className="ml-4 mr-3 my-2">
           <RushClock className="text-16" />
         </div>
-        {daysLeft > 0 && !submitted && !reached && (
+        {isInProgress && (
           <div className="inset-0 flex justify-center font-bold mr-3">
             <FormattedMessage
               id="e105008d1a6d"
@@ -116,11 +117,10 @@ export function ExpressTrack({
 
         <div className="mr-6 my-1 hover:text-orange-hover">
           <ExpressTooltip
-            daysLeft={daysLeft}
             message={
               <ExpressTooltipMessage
                 timeframe={timeframe}
-                daysLeft={daysLeft}
+                isExpired={isExpired}
                 expressRewards={expressRewards}
                 promotionRewards={promotionRewards}
               />
-- 
2.33.1.windows.1

