query dashboard(
  $partnerId: String!
  $customerSearchType: CustomerSearchType!
  $previewSize: Int = 4
  $today: LocalDate!
  $firstDayOfMonth: LocalDate!
  $thirtyDaysAgo: LocalDate!
  $oneDayAgo: LocalDate!
  $thirtyDaysFromNow: LocalDate!
  $fourteenDaysFromNow: LocalDate!
  $lastDayOfPreviousMonth: LocalDate!
) {
  dashboard: getDashboardByPartnerId(partnerId: $partnerId) {
    data {
      lastUpdatedDate
      clubLevel
      commission: purchaseVolume {
        visible
        percentage
        paid
        pending
        total
        insightText
        insightValue
      }
      performanceBonus {
        visible
        percentage
        paid
        pending
        total
        insightText
        insightValue
        legCount
        maxLegCount
        legPartners {
          id
          firstName
          lastName
          imageUrl
        }
      }
      promoteOutBonus {
        visible
        percentage
        paid
        pending
        total
        insightText
        insightValue
        legCount
        maxLegCount
        legPartners {
          id
          firstName
          lastName
          imageUrl
        }
      }
    }
    error {
      ...JpError
    }
  }

  newTeamStats: countPartners(
    criteria: { memberSince: { greaterOrEqualThan: $firstDayOfMonth } }
  ) {
    data {
      percentage: amount
      value: count
    }
    error {
      ...JpError
    }
  }
  totalTeamStats: countPartners(criteria: {}) {
    data {
      percentage: amount
      value: count
    }
    error {
      ...JpError
    }
  }
  newCustomersStats: countCustomers(
    criteria: {
      customerSearchType: $customerSearchType
      customerEntryDate: { greaterOrEqualThan: $firstDayOfMonth }
    }
  ) {
    data {
      percentage: amount
      value: count
    }
    error {
      ...JpError
    }
  }
  totalCustomersStats: countCustomers(
    criteria: { customerSearchType: $customerSearchType }
  ) {
    data {
      percentage: amount
      value: count
    }
    error {
      ...JpError
    }
  }

  partnersCloseToPb: getPartners(
    criteria: { volumeFilter: CLOSE_TO_PB }
    size: $previewSize
  ) {
    data {
      totalCount
      persons {
        id
        firstName
        lastName
        imageUrl
      }
    }
    error {
      ...JpError
    }
  }
  partnersCloseToPob: getPartners(
    criteria: { volumeFilter: CLOSE_TO_POB }
    size: $previewSize
  ) {
    data {
      totalCount
      persons {
        id
        firstName
        lastName
        imageUrl
      }
    }
    error {
      ...JpError
    }
  }
  partnersNewPosition: getPartners(
    criteria: {
      lastTitleUpdate: {
        greaterOrEqualThan: $lastDayOfPreviousMonth
        lessOrEqualThan: $today
      }
      position: { in: ["P+", "QSC", "SC", "SSC", "QSSC"] }
    }
    size: $previewSize
  ) {
    data {
      totalCount
      persons {
        id
        firstName
        lastName
        imageUrl
      }
    }
    error {
      ...JpError
    }
  }
  partnersNotRenewed: getPartners(
    criteria: {
      membershipRenewal: {
        greaterOrEqualThan: $thirtyDaysAgo
        lessOrEqualThan: $oneDayAgo
      }
    }
    size: $previewSize
  ) {
    data {
      totalCount
      persons {
        id
        firstName
        lastName
        imageUrl
      }
    }
    error {
      ...JpError
    }
  }
  partnersAnniversaries: getPartners(
    criteria: {
      membershipRenewal: {
        greaterOrEqualThan: $today
        lessOrEqualThan: $thirtyDaysFromNow
      }
    }
    size: $previewSize
  ) {
    data {
      totalCount
      persons {
        id
        firstName
        lastName
        imageUrl
      }
    }
    error {
      ...JpError
    }
  }
  partnersBirthdays: getPartners(
    criteria: { birthday: { equals: $today } }
    size: $previewSize
  ) {
    data {
      totalCount
      persons {
        id
        firstName
        lastName
        imageUrl
      }
    }
    error {
      ...JpError
    }
  }
  customersPaymentIssues: countCustomers(
    criteria: {
      customerSearchType: $customerSearchType
      orderStatus: PAYMENT_ISSUE
    }
  ) {
    data {
      count
    }
    error {
      ...JpError
    }
  }
  customersNextShipment: countCustomers(
    criteria: {
      customerSearchType: $customerSearchType
      nextShipmentDate: {
        greaterOrEqualThan: $today
        lessOrEqualThan: $fourteenDaysFromNow
      }
    }
  ) {
    data {
      count
    }
    error {
      ...JpError
    }
  }
  customersCancelledOrders: countCustomers(
    criteria: {
      customerSearchType: $customerSearchType
      cancelDate: { greaterOrEqualThan: $firstDayOfMonth }
    }
  ) {
    data {
      count
    }
    error {
      ...JpError
    }
  }
  customersPendingCarts: countCustomers(
    criteria: {
      customerSearchType: $customerSearchType
      orderStatus: CART_CONFIRMATION_PENDING
    }
  ) {
    data {
      count
    }
    error {
      ...JpError
    }
  }
  customersAnniversaries: countCustomers(
    criteria: {
      customerSearchType: $customerSearchType
      anniversary: {
        greaterOrEqualThan: $today
        lessOrEqualThan: $thirtyDaysFromNow
      }
    }
  ) {
    data {
      count
    }
    error {
      ...JpError
    }
  }
  customersNewOrders: countCustomers(
    criteria: {
      customerSearchType: $customerSearchType
      orderDate: { greaterOrEqualThan: $firstDayOfMonth }
    }
  ) {
    data {
      count
    }
    error {
      ...JpError
    }
  }
  customersBirthdays: countCustomers(
    criteria: {
      customerSearchType: $customerSearchType
      birthday: { equals: $today }
    }
  ) {
    data {
      count
    }
    error {
      ...JpError
    }
  }
}
